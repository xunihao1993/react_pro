(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[947],{93500:function(me,w,t){"use strict";t.r(w),t.d(w,{default:function(){return le}});var ge=t(57338),O=t(25084),he=t(57663),C=t(71577),fe=t(47673),W=t(4107),G=t(93224),L=t(2824),R=t(11849),ve=t(34792),g=t(48086),v=t(3182),Y=t(94043),c=t.n(Y),z=t(49101),b=t(67294),r=t(58318),K=t(81907),J=t(85224),Q=t(65319),X=t(37476),A=t(5966),P=t(90672),k=t(96459),xe=t(71194),q=t(57016),y=t(3843),H=t(64317),_=t(86615),ee=t(22452),e=t(85893),ae=function(d){var s=(0,r.YB)();return(0,e.jsxs)(y.Z,{"data-inspector-line":"31","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",stepsProps:{size:"small"},stepsFormRender:function(h,a){return(0,e.jsx)(q.Z,{"data-inspector-line":"37","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:s.formatMessage({id:"pages.searchTable.updateForm.ruleConfig",defaultMessage:"\u89C4\u5219\u914D\u7F6E"}),visible:d.updateModalVisible,footer:a,onCancel:function(){d.onCancel()},children:h})},onFinish:d.onSubmit,children:[(0,e.jsxs)(y.Z.StepForm,{"data-inspector-line":"57","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",initialValues:{name:d.values.name,desc:d.values.desc},title:s.formatMessage({id:"pages.searchTable.updateForm.basicConfig",defaultMessage:"\u57FA\u672C\u4FE1\u606F"}),children:[(0,e.jsx)(A.Z,{"data-inspector-line":"67","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",name:"name",label:s.formatMessage({id:"pages.searchTable.updateForm.ruleName.nameLabel",defaultMessage:"\u89C4\u5219\u540D\u79F0"}),width:"md",rules:[{required:!0,message:(0,e.jsx)(r._H,{"data-inspector-line":"78","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",id:"pages.searchTable.updateForm.ruleName.nameRules",defaultMessage:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0\uFF01"})}]}),(0,e.jsx)(P.Z,{"data-inspector-line":"86","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",name:"desc",width:"md",label:s.formatMessage({id:"pages.searchTable.updateForm.ruleDesc.descLabel",defaultMessage:"\u89C4\u5219\u63CF\u8FF0"}),placeholder:s.formatMessage({id:"pages.searchTable.updateForm.ruleDesc.descPlaceholder",defaultMessage:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"}),rules:[{required:!0,message:(0,e.jsx)(r._H,{"data-inspector-line":"101","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",id:"pages.searchTable.updateForm.ruleDesc.descRules",defaultMessage:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u89C4\u5219\u63CF\u8FF0\uFF01"}),min:5}]})]}),(0,e.jsxs)(y.Z.StepForm,{"data-inspector-line":"111","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",initialValues:{target:"0",template:"0"},title:s.formatMessage({id:"pages.searchTable.updateForm.ruleProps.title",defaultMessage:"\u914D\u7F6E\u89C4\u5219\u5C5E\u6027"}),children:[(0,e.jsx)(H.Z,{"data-inspector-line":"121","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",name:"target",width:"md",label:s.formatMessage({id:"pages.searchTable.updateForm.object",defaultMessage:"\u76D1\u63A7\u5BF9\u8C61"}),valueEnum:{0:"\u8868\u4E00",1:"\u8868\u4E8C"}}),(0,e.jsx)(H.Z,{"data-inspector-line":"133","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",name:"template",width:"md",label:s.formatMessage({id:"pages.searchTable.updateForm.ruleProps.templateLabel",defaultMessage:"\u89C4\u5219\u6A21\u677F"}),valueEnum:{0:"\u89C4\u5219\u6A21\u677F\u4E00",1:"\u89C4\u5219\u6A21\u677F\u4E8C"}}),(0,e.jsx)(_.Z.Group,{"data-inspector-line":"145","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",name:"type",label:s.formatMessage({id:"pages.searchTable.updateForm.ruleProps.typeLabel",defaultMessage:"\u89C4\u5219\u7C7B\u578B"}),options:[{value:"0",label:"\u5F3A"},{value:"1",label:"\u5F31"}]})]}),(0,e.jsxs)(y.Z.StepForm,{"data-inspector-line":"163","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",initialValues:{type:"1",frequency:"month"},title:s.formatMessage({id:"pages.searchTable.updateForm.schedulingPeriod.title",defaultMessage:"\u8BBE\u5B9A\u8C03\u5EA6\u5468\u671F"}),children:[(0,e.jsx)(ee.Z,{"data-inspector-line":"173","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",name:"time",width:"md",label:s.formatMessage({id:"pages.searchTable.updateForm.schedulingPeriod.timeLabel",defaultMessage:"\u5F00\u59CB\u65F6\u95F4"}),rules:[{required:!0,message:(0,e.jsx)(r._H,{"data-inspector-line":"184","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",id:"pages.searchTable.updateForm.schedulingPeriod.timeRules",defaultMessage:"\u8BF7\u9009\u62E9\u5F00\u59CB\u65F6\u95F4\uFF01"})}]}),(0,e.jsx)(H.Z,{"data-inspector-line":"192","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\components\\UpdateForm.tsx",name:"frequency",label:s.formatMessage({id:"pages.searchTable.updateForm.object",defaultMessage:"\u76D1\u63A7\u5BF9\u8C61"}),width:"md",valueEnum:{month:"\u6708",week:"\u5468"}})]})]})},te=ae,Z=t(36571),se=function(){var x=(0,v.Z)(c().mark(function d(s){var o;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=g.default.loading("\u6B63\u5728\u6DFB\u52A0"),a.prev=1,a.next=4,(0,Z.HP)((0,R.Z)({},s));case 4:return o(),g.default.success("Added successfully"),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a.catch(1),o(),g.default.error("Adding failed, please try again!"),a.abrupt("return",!1);case 14:case"end":return a.stop()}},d,null,[[1,9]])}));return function(s){return x.apply(this,arguments)}}(),re=function(){var x=(0,v.Z)(c().mark(function d(s){var o;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=g.default.loading("Configuring"),a.prev=1,a.next=4,(0,Z.D7)({name:s.name,desc:s.desc,key:s.key});case 4:return o(),g.default.success("Configuration is successful"),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a.catch(1),o(),g.default.error("Configuration failed, please try again!"),a.abrupt("return",!1);case 14:case"end":return a.stop()}},d,null,[[1,9]])}));return function(s){return x.apply(this,arguments)}}(),ne=function(){var x=(0,v.Z)(c().mark(function d(s){var o;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=g.default.loading("\u6B63\u5728\u5220\u9664"),s){a.next=3;break}return a.abrupt("return",!0);case 3:return a.prev=3,a.next=6,(0,Z.DV)({key:s.map(function(M){return M.key})});case 6:return o(),g.default.success("Deleted successfully and will refresh soon"),a.abrupt("return",!0);case 11:return a.prev=11,a.t0=a.catch(3),o(),g.default.error("Delete failed, please try again"),a.abrupt("return",!1);case 16:case"end":return a.stop()}},d,null,[[3,11]])}));return function(s){return x.apply(this,arguments)}}(),ie=function(){var d=(0,b.useState)(!1),s=(0,L.Z)(d,2),o=s[0],h=s[1],a=(0,b.useState)(!1),M=(0,L.Z)(a,2),de=M[0],U=M[1],ce=(0,b.useState)(!1),D=(0,L.Z)(ce,2),oe=D[0],B=D[1],T=(0,b.useRef)(),pe=(0,b.useState)(),V=(0,L.Z)(pe,2),u=V[0],j=V[1],ue=(0,b.useState)([]),E=(0,L.Z)(ue,2),F=E[0],I=E[1],S=(0,r.YB)(),N=[{title:(0,e.jsx)(r._H,{"data-inspector-line":"109","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.updateForm.ruleName.nameLabel",defaultMessage:"Rule name"}),dataIndex:"name",tip:"The rule name is the unique key",render:function(n,i){return(0,e.jsx)("a",{"data-inspector-line":"118","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",onClick:function(){j(i),B(!0)},children:n})}},{title:(0,e.jsx)(r._H,{"data-inspector-line":"130","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.titleDesc",defaultMessage:"Description"}),dataIndex:"desc",valueType:"textarea"},{title:(0,e.jsx)(r._H,{"data-inspector-line":"136","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.titleCallNo",defaultMessage:"Number of service calls"}),dataIndex:"callNo",sorter:!0,hideInForm:!0,renderText:function(n){return"".concat(n).concat(S.formatMessage({id:"pages.searchTable.tenThousand",defaultMessage:" \u4E07 "}))}},{title:(0,e.jsx)(r._H,{"data-inspector-line":"151","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.titleStatus",defaultMessage:"Status"}),dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:(0,e.jsx)(r._H,{"data-inspector-line":"157","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.nameStatus.default",defaultMessage:"Shut down"}),status:"Default"},1:{text:(0,e.jsx)(r._H,{"data-inspector-line":"166","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.nameStatus.running",defaultMessage:"Running"}),status:"Processing"},2:{text:(0,e.jsx)(r._H,{"data-inspector-line":"172","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.nameStatus.online",defaultMessage:"Online"}),status:"Success"},3:{text:(0,e.jsx)(r._H,{"data-inspector-line":"178","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.nameStatus.abnormal",defaultMessage:"Abnormal"}),status:"Error"}}},{title:(0,e.jsx)(r._H,{"data-inspector-line":"189","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.titleUpdatedAt",defaultMessage:"Last scheduled time"}),sorter:!0,dataIndex:"updatedAt",valueType:"dateTime",renderFormItem:function(n,i,m){var f=i.defaultRender,p=(0,G.Z)(i,["defaultRender"]),$=m.getFieldValue("status");return"".concat($)==="0"?!1:"".concat($)==="3"?(0,e.jsx)(W.Z,(0,R.Z)((0,R.Z)({"data-inspector-line":"204","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx"},p),{},{placeholder:S.formatMessage({id:"pages.searchTable.exception",defaultMessage:"Please enter the reason for the exception!"})})):f(n)}},{title:(0,e.jsx)(r._H,{"data-inspector-line":"217","data-inspector-column":"13","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(n,i){return[(0,e.jsx)("a",{"data-inspector-line":"221","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",onClick:function(){U(!0),j(i)},children:(0,e.jsx)(r._H,{"data-inspector-line":"228","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.config",defaultMessage:"Configuration"})},"config"),(0,e.jsx)("a",{"data-inspector-line":"230","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",href:"https://procomponents.ant.design/",children:(0,e.jsx)(r._H,{"data-inspector-line":"231","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.subscribeAlert",defaultMessage:"Subscribe to alerts"})},"subscribeAlert")]}}];return(0,e.jsxs)(K.Z,{"data-inspector-line":"241","data-inspector-column":"4","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",children:[(0,e.jsx)(Q.ZP,{"data-inspector-line":"242","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",headerTitle:S.formatMessage({id:"pages.searchTable.title",defaultMessage:"Enquiry form"}),actionRef:T,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,e.jsxs)(C.Z,{"data-inspector-line":"253","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",type:"primary",onClick:function(){h(!0)},children:[(0,e.jsx)(z.Z,{"data-inspector-line":"260","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx"})," ",(0,e.jsx)(r._H,{"data-inspector-line":"260","data-inspector-column":"29","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.new",defaultMessage:"New"})]},"primary")]},request:Z.jR,columns:N,rowSelection:{onChange:function(n,i){I(i)}}}),(F==null?void 0:F.length)>0&&(0,e.jsxs)(J.Z,{"data-inspector-line":"272","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",extra:(0,e.jsxs)("div",{"data-inspector-line":"274","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",children:[(0,e.jsx)(r._H,{"data-inspector-line":"275","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.chosen",defaultMessage:"Chosen"})," ",(0,e.jsx)("a",{"data-inspector-line":"276","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",style:{fontWeight:600},children:F.length})," ",(0,e.jsx)(r._H,{"data-inspector-line":"277","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.item",defaultMessage:"\u9879"}),"\xA0\xA0",(0,e.jsxs)("span",{"data-inspector-line":"279","data-inspector-column":"14","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",children:[(0,e.jsx)(r._H,{"data-inspector-line":"280","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.totalServiceCalls",defaultMessage:"Total number of service calls"})," ",F.reduce(function(l,n){return l+n.callNo},0)," ",(0,e.jsx)(r._H,{"data-inspector-line":"285","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.tenThousand",defaultMessage:"\u4E07"})]})]}),children:[(0,e.jsx)(C.Z,{"data-inspector-line":"290","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",onClick:(0,v.Z)(c().mark(function l(){var n,i;return c().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,ne(F);case 2:I([]),(n=T.current)===null||n===void 0||(i=n.reloadAndRest)===null||i===void 0||i.call(n);case 4:case"end":return f.stop()}},l)})),children:(0,e.jsx)(r._H,{"data-inspector-line":"297","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.batchDeletion",defaultMessage:"Batch deletion"})}),(0,e.jsx)(C.Z,{"data-inspector-line":"302","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",type:"primary",children:(0,e.jsx)(r._H,{"data-inspector-line":"303","data-inspector-column":"12","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.batchApproval",defaultMessage:"Batch approval"})})]}),(0,e.jsxs)(X.Z,{"data-inspector-line":"310","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",title:S.formatMessage({id:"pages.searchTable.createForm.newRule",defaultMessage:"New rule"}),width:"400px",visible:o,onVisibleChange:h,onFinish:function(){var l=(0,v.Z)(c().mark(function n(i){var m;return c().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,se(i);case 2:m=p.sent,m&&(h(!1),T.current&&T.current.reload());case 4:case"end":return p.stop()}},n)}));return function(n){return l.apply(this,arguments)}}(),children:[(0,e.jsx)(A.Z,{"data-inspector-line":"328","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",rules:[{required:!0,message:(0,e.jsx)(r._H,{"data-inspector-line":"333","data-inspector-column":"16","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",id:"pages.searchTable.ruleName",defaultMessage:"Rule name is required"})}],width:"md",name:"name"}),(0,e.jsx)(P.Z,{"data-inspector-line":"343","data-inspector-column":"8","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",width:"md",name:"desc"})]}),(0,e.jsx)(te,{"data-inspector-line":"345","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",onSubmit:function(){var l=(0,v.Z)(c().mark(function n(i){var m;return c().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,re(i);case 2:m=p.sent,m&&(U(!1),j(void 0),T.current&&T.current.reload());case 4:case"end":return p.stop()}},n)}));return function(n){return l.apply(this,arguments)}}(),onCancel:function(){U(!1),j(void 0)},updateModalVisible:de,values:u||{}}),(0,e.jsx)(O.Z,{"data-inspector-line":"364","data-inspector-column":"6","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",width:600,visible:oe,onClose:function(){j(void 0),B(!1)},closable:!1,children:(u==null?void 0:u.name)&&(0,e.jsx)(k.Z,{"data-inspector-line":"374","data-inspector-column":"10","data-inspector-relative-path":"src\\pages\\TableList\\index.tsx",column:2,title:u==null?void 0:u.name,request:(0,v.Z)(c().mark(function l(){return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",{data:u||{}});case 1:case"end":return i.stop()}},l)})),params:{id:u==null?void 0:u.name},columns:N})})]})},le=ie}}]);
